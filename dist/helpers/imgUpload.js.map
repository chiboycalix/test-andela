{"version":3,"sources":["../../server/helpers/imgUpload.js"],"names":["storage","multer","diskStorage","destination","req","file","cb","filename","Date","now","originalname","fileFilter","mimetype","upload","limits","fileSize"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,UAAUC,iBAAOC,WAAP,CAAmB;AACjCC,aADiC,uBACrBC,GADqB,EAChBC,IADgB,EACVC,EADU,EACN;AACzBA,OAAG,IAAH,EAAS,kBAAT;AACD,GAHgC;AAIjCC,UAJiC,oBAIxBH,GAJwB,EAInBC,IAJmB,EAIbC,EAJa,EAIT;AACtBA,OAAG,IAAH,EAAYE,KAAKC,GAAL,EAAZ,SAA0BJ,KAAKK,YAA/B;AACD;AANgC,CAAnB,CAAhB;;AAUA,IAAMC,aAAa,SAAbA,UAAa,CAACP,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAmB;AACpC,MAAID,KAAKO,QAAL,KAAkB,YAAlB,IAAkCP,KAAKO,QAAL,KAAkB,WAAxD,EAAqE;AACnEN,OAAG,IAAH,EAAS,IAAT;AACD,GAFD,MAEO;AACLA,OAAG,IAAH,EAAS,KAAT;AACD;AACF,CAND;;AAQA,IAAMO,SAAS,sBAAO;AACpBb,kBADoB;AAEpBc,UAAQ;AACNC,cAAU,OAAO,IAAP,GAAc;AADlB,GAFY;AAKpBJ;AALoB,CAAP,CAAf;;kBAQeE,M","file":"imgUpload.js","sourcesContent":["import multer from 'multer';\n\nconst storage = multer.diskStorage({\n  destination(req, file, cb) {\n    cb(null, './server/uploads');\n  },\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}-${file.originalname}`); \n  },\n  \n});\n  \nconst fileFilter = (req, file, cb) => {\n  if (file.mimetype === 'image/jpeg' || file.mimetype === 'image/png') {\n    cb(null, true);\n  } else {\n    cb(null, false);\n  }\n};\n\nconst upload = multer({\n  storage,\n  limits: {\n    fileSize: 1024 * 1024 * 3,\n  },\n  fileFilter, \n});\n\nexport default upload;"]}